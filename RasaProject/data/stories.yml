version: "3.1"

stories:
- story: Пользователь сначала спрашивает про фото, а потом про ареал
  steps:
    # Шаг 1: Пользователь задает первый вопрос, называя объект
    - intent: show_object_with_features
      entities:
      - object_OFF: "Копеечник зундукский"
    # Rasa извлекает сущность "байкальская нерпа" и кладет ее в слот object_OFF.
    # Слот object_OFF теперь ЗАПОЛНЕН.

    - action: action_get_picture
    # Бот выполняет действие и показывает картинку. Слот остается заполненным.

    # Шаг 2: Пользователь задает уточняющий вопрос БЕЗ названия объекта
    - intent: locate_object_on_map
    # Пользователь просто спрашивает "А где она обитает?".
    # Модель TEDPolicy видит:
    # 1. Пришел интент locate_object_on_map.
    # 2. Слот object_OFF уже заполнен значением "байкальская нерпа".
    # 3. В этой истории показано, что в такой ситуации нужно делать.

    - action: action_draw_locate_map
    # Бот выполняет это действие, используя значение "байкальская нерпа" из слота.
    # После этого он НЕ очищает слоты и готов к новым вопросам про нерпу.
