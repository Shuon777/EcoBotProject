2025-10-08 15:42:12,854 - root - INFO - Логирование настроено для вывода в консоль и в файл.
2025-10-08 15:42:13,012 - aiogram - INFO - Bot: RasaTgBot [@RasaNewDBBot]
2025-10-08 15:42:13,117 - aiogram - WARNING - Updates were skipped successfully.
2025-10-08 15:42:13,117 - __main__ - INFO - Бот запускается...
2025-10-08 15:42:13,204 - logic.query_analyze - INFO - GigaChat успешно инициализирован.
2025-10-08 15:42:13,205 - utils.context_manager - INFO - Асинхронный клиент Redis инициализирован для localhost:6379
2025-10-08 15:42:13,207 - utils.context_manager - INFO - Подключение к Redis успешно.
2025-10-08 15:42:13,209 - __main__ - INFO - Все обработчики успешно зарегистрированы.
2025-10-08 15:42:13,210 - aiogram.dispatcher.dispatcher - INFO - Start polling.
2025-10-08 15:43:01,773 - logic.query_analyze - INFO - Определение намерения для запроса: 'расскажи про Баргузинский заповедник'
2025-10-08 15:43:01,981 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-10-08 15:43:02,151 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:43:02,154 - logic.query_analyze - INFO - Тип географического запроса: geo_info
2025-10-08 15:43:02,155 - logic.query_analyze - INFO - Запрос 'расскажи про Баргузинский заповедник' -> географическое намерение: get_geo_info
2025-10-08 15:43:02,156 - logic.query_analyze - INFO - Извлечение сущностей для намерения 'get_geo_info' из запроса: 'расскажи про Баргузинский заповедник'
2025-10-08 15:43:02,157 - logic.query_analyze - INFO - Извлечение ГЕОГРАФИЧЕСКИХ сущностей из запроса: 'расскажи про Баргузинский заповедник'
2025-10-08 15:43:03,624 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:43:03,626 - logic.query_analyze - INFO - Географические сущности извлечены: {"location_info": {"exact_location": null, "region": "Бурятия", "nearby_places": []}, "geo_type": {"primary_type": ["Природный объект", "Достопримечательности"], "specific_types": ["Заповедники"]}}
2025-10-08 15:43:03,626 - logic.api_handlers - WARNING - Неизвестный intent: get_geo_info
2025-10-08 15:43:07,811 - logic.query_analyze - INFO - Определение намерения для запроса: 'информация о Байкальском музее'
2025-10-08 15:43:07,968 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:43:07,970 - logic.query_analyze - INFO - Тип географического запроса: geo_info
2025-10-08 15:43:07,971 - logic.query_analyze - INFO - Запрос 'информация о Байкальском музее' -> географическое намерение: get_geo_info
2025-10-08 15:43:07,972 - logic.query_analyze - INFO - Извлечение сущностей для намерения 'get_geo_info' из запроса: 'информация о Байкальском музее'
2025-10-08 15:43:07,973 - logic.query_analyze - INFO - Извлечение ГЕОГРАФИЧЕСКИХ сущностей из запроса: 'информация о Байкальском музее'
2025-10-08 15:43:10,707 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:43:10,709 - logic.query_analyze - INFO - Географические сущности извлечены: {"location_info": {"exact_location": "пос. Листвянка", "region": "Иркутская область", "nearby_places": []}, "geo_type": {"primary_type": ["Достопримечательности"], "specific_types": ["Музеи"]}}
2025-10-08 15:43:10,710 - logic.api_handlers - WARNING - Неизвестный intent: get_geo_info
2025-10-08 15:43:13,037 - logic.query_analyze - INFO - Определение намерения для запроса: 'что такое Тальцы?'
2025-10-08 15:43:13,175 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:43:13,178 - logic.query_analyze - INFO - Тип географического запроса: geo_info
2025-10-08 15:43:13,178 - logic.query_analyze - INFO - Запрос 'что такое Тальцы?' -> географическое намерение: get_geo_info
2025-10-08 15:43:13,179 - logic.query_analyze - INFO - Извлечение сущностей для намерения 'get_geo_info' из запроса: 'что такое Тальцы?'
2025-10-08 15:43:13,180 - logic.query_analyze - INFO - Извлечение ГЕОГРАФИЧЕСКИХ сущностей из запроса: 'что такое Тальцы?'
2025-10-08 15:43:14,529 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:43:14,532 - logic.query_analyze - INFO - Географические сущности извлечены: {"location_info": {"exact_location": "Тальцы", "region": "Иркутская область", "nearby_places": []}, "geo_type": {"primary_type": ["Достопримечательности"], "specific_types": ["Этнографические музеи"]}}
2025-10-08 15:43:14,533 - logic.api_handlers - WARNING - Неизвестный intent: get_geo_info
2025-10-08 15:43:16,937 - logic.query_analyze - INFO - Определение намерения для запроса: 'описание Иркутского краеведческого музея'
2025-10-08 15:43:17,085 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:43:17,087 - logic.query_analyze - INFO - Тип географического запроса: geo_info
2025-10-08 15:43:17,088 - logic.query_analyze - INFO - Запрос 'описание Иркутского краеведческого музея' -> географическое намерение: get_geo_info
2025-10-08 15:43:17,088 - logic.query_analyze - INFO - Извлечение сущностей для намерения 'get_geo_info' из запроса: 'описание Иркутского краеведческого музея'
2025-10-08 15:43:17,088 - logic.query_analyze - INFO - Извлечение ГЕОГРАФИЧЕСКИХ сущностей из запроса: 'описание Иркутского краеведческого музея'
2025-10-08 15:43:18,480 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:43:18,482 - logic.query_analyze - INFO - Географические сущности извлечены: {"location_info": {"exact_location": "Иркутск", "region": "Иркутская область", "nearby_places": []}, "geo_type": {"primary_type": ["Достопримечательности"], "specific_types": ["Музеи"]}}
2025-10-08 15:43:18,483 - logic.api_handlers - WARNING - Неизвестный intent: get_geo_info
2025-10-08 15:43:21,935 - logic.query_analyze - INFO - Определение намерения для запроса: 'расскажи про Шаман-камень'
2025-10-08 15:43:22,087 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:43:22,089 - logic.query_analyze - INFO - Тип географического запроса: geo_info
2025-10-08 15:43:22,089 - logic.query_analyze - INFO - Запрос 'расскажи про Шаман-камень' -> географическое намерение: get_geo_info
2025-10-08 15:43:22,089 - logic.query_analyze - INFO - Извлечение сущностей для намерения 'get_geo_info' из запроса: 'расскажи про Шаман-камень'
2025-10-08 15:43:22,089 - logic.query_analyze - INFO - Извлечение ГЕОГРАФИЧЕСКИХ сущностей из запроса: 'расскажи про Шаман-камень'
2025-10-08 15:43:23,422 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:43:23,425 - logic.query_analyze - INFO - Географические сущности извлечены: {"location_info": {"exact_location": "Шаман-камень", "region": "Республика Бурятия", "nearby_places": []}, "geo_type": {"primary_type": ["Природный объект", "Достопримечательности"], "specific_types": []}}
2025-10-08 15:43:23,426 - logic.api_handlers - WARNING - Неизвестный intent: get_geo_info
2025-10-08 15:43:26,320 - logic.query_analyze - INFO - Определение намерения для запроса: 'информация о Байкальской астрофизической обсерватории'
2025-10-08 15:43:26,481 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:43:26,483 - logic.query_analyze - INFO - Тип географического запроса: geo_info
2025-10-08 15:43:26,483 - logic.query_analyze - INFO - Запрос 'информация о Байкальской астрофизической обсерватории' -> географическое намерение: get_geo_info
2025-10-08 15:43:26,483 - logic.query_analyze - INFO - Извлечение сущностей для намерения 'get_geo_info' из запроса: 'информация о Байкальской астрофизической обсерватории'
2025-10-08 15:43:26,483 - logic.query_analyze - INFO - Извлечение ГЕОГРАФИЧЕСКИХ сущностей из запроса: 'информация о Байкальской астрофизической обсерватории'
2025-10-08 15:43:27,785 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:43:27,788 - logic.query_analyze - INFO - Географические сущности извлечены: {"location_info": {"exact_location": "Байкальская астрофизическая обсерватория", "region": "Иркутская область", "nearby_places": []}, "geo_type": {"primary_type": ["Научные учреждения"], "specific_types": []}}
2025-10-08 15:43:27,788 - logic.api_handlers - WARNING - Неизвестный intent: get_geo_info
2025-10-08 15:44:40,199 - logic.query_analyze - INFO - Определение намерения для запроса: 'Сколько музеев в Иркутске?'
2025-10-08 15:44:40,358 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:44:40,360 - logic.query_analyze - INFO - Тип географического запроса: geo_count
2025-10-08 15:44:40,360 - logic.query_analyze - INFO - Запрос 'Сколько музеев в Иркутске?' -> географическое намерение: get_geo_count
2025-10-08 15:44:40,361 - logic.query_analyze - INFO - Извлечение сущностей для намерения 'get_geo_count' из запроса: 'Сколько музеев в Иркутске?'
2025-10-08 15:44:40,361 - logic.query_analyze - INFO - Извлечение ГЕОГРАФИЧЕСКИХ сущностей из запроса: 'Сколько музеев в Иркутске?'
2025-10-08 15:44:41,638 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:44:41,641 - logic.query_analyze - INFO - Географические сущности извлечены: {"location_info": {"exact_location": "Иркутск", "region": "Иркутская область", "nearby_places": []}, "geo_type": {"primary_type": ["Достопримечательности"], "specific_types": ["Музеи"]}}
2025-10-08 15:44:41,642 - logic.api_handlers - WARNING - Неизвестный intent: get_geo_count
2025-10-08 15:44:47,056 - logic.query_analyze - INFO - Определение намерения для запроса: 'Количество памятников в Братске'
2025-10-08 15:44:47,463 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:44:47,466 - logic.query_analyze - INFO - Тип географического запроса: geo_count
2025-10-08 15:44:47,466 - logic.query_analyze - INFO - Запрос 'Количество памятников в Братске' -> географическое намерение: get_geo_count
2025-10-08 15:44:47,466 - logic.query_analyze - INFO - Извлечение сущностей для намерения 'get_geo_count' из запроса: 'Количество памятников в Братске'
2025-10-08 15:44:47,466 - logic.query_analyze - INFO - Извлечение ГЕОГРАФИЧЕСКИХ сущностей из запроса: 'Количество памятников в Братске'
2025-10-08 15:44:49,651 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:44:49,652 - logic.query_analyze - INFO - Географические сущности извлечены: {"location_info": {"exact_location": "Братск", "region": "Иркутская область", "nearby_places": []}, "geo_type": {"primary_type": ["Достопримечательности"], "specific_types": ["Памятники"]}}
2025-10-08 15:44:49,652 - logic.api_handlers - WARNING - Неизвестный intent: get_geo_count
2025-10-08 15:44:51,392 - logic.query_analyze - INFO - Определение намерения для запроса: 'Сколько заповедников на Байкале?'
2025-10-08 15:44:51,536 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:44:51,538 - logic.query_analyze - INFO - Тип географического запроса: geo_count
2025-10-08 15:44:51,539 - logic.query_analyze - INFO - Запрос 'Сколько заповедников на Байкале?' -> географическое намерение: get_geo_count
2025-10-08 15:44:51,540 - logic.query_analyze - INFO - Извлечение сущностей для намерения 'get_geo_count' из запроса: 'Сколько заповедников на Байкале?'
2025-10-08 15:44:51,540 - logic.query_analyze - INFO - Извлечение ГЕОГРАФИЧЕСКИХ сущностей из запроса: 'Сколько заповедников на Байкале?'
2025-10-08 15:44:53,122 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:44:53,124 - logic.query_analyze - INFO - Географические сущности извлечены: {"location_info": {"exact_location": "Байкал", "region": null, "nearby_places": []}, "geo_type": {"primary_type": ["Природный объект", "Достопримечательности"], "specific_types": ["Заповедники"]}}
2025-10-08 15:44:53,124 - logic.api_handlers - WARNING - Неизвестный intent: get_geo_count
2025-10-08 15:44:55,096 - logic.query_analyze - INFO - Определение намерения для запроса: 'Сколько заказников в Иркутской области?'
2025-10-08 15:44:55,211 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:44:55,212 - logic.query_analyze - INFO - Тип географического запроса: geo_count
2025-10-08 15:44:55,213 - logic.query_analyze - INFO - Запрос 'Сколько заказников в Иркутской области?' -> географическое намерение: get_geo_count
2025-10-08 15:44:55,213 - logic.query_analyze - INFO - Извлечение сущностей для намерения 'get_geo_count' из запроса: 'Сколько заказников в Иркутской области?'
2025-10-08 15:44:55,213 - logic.query_analyze - INFO - Извлечение ГЕОГРАФИЧЕСКИХ сущностей из запроса: 'Сколько заказников в Иркутской области?'
2025-10-08 15:44:56,730 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:44:56,732 - logic.query_analyze - INFO - Географические сущности извлечены: {"location_info": {"exact_location": null, "region": "Иркутская область", "nearby_places": []}, "geo_type": {"primary_type": ["Природный объект", "Достопримечательности"], "specific_types": ["Заказники"]}}
2025-10-08 15:44:56,732 - logic.api_handlers - WARNING - Неизвестный intent: get_geo_count
2025-10-08 15:46:22,719 - logic.query_analyze - INFO - Определение намерения для запроса: 'Как выглядит эдельвейс'
2025-10-08 15:46:22,914 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:46:22,916 - logic.query_analyze - INFO - Тип географического запроса: not_geo
2025-10-08 15:46:23,086 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:46:23,088 - logic.query_analyze - INFO - Стандартное намерение определено как: 'get_picture'
2025-10-08 15:46:23,088 - logic.query_analyze - INFO - Извлечение сущностей для намерения 'get_picture' из запроса: 'Как выглядит эдельвейс'
2025-10-08 15:46:24,086 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:46:24,088 - logic.query_analyze - INFO - Стандартные сущности извлечены успешно: {"object": "эдельвейс", "geo_place": null, "features": {}, "unsupported_features": [], "can_fulfill": true}
2025-10-08 15:46:24,088 - logic.api_handlers - INFO - --- Запуск handle_get_picture с result: {'object': 'эдельвейс', 'geo_place': None, 'features': {}, 'unsupported_features': [], 'can_fulfill': True, 'user_id': '684421969'} ---
2025-10-08 15:46:24,089 - logic.api_handlers - INFO - API CALL: handle_get_picture. URL: https://testecobot.ru/search_images_by_features?debug_mode=false, Payload: {"species_name": "эдельвейс", "features": {}}
2025-10-08 15:46:24,134 - logic.api_handlers - INFO - API RESPONSE: handle_get_picture. Status: 200
2025-10-08 15:46:24,134 - logic.api_handlers - INFO - API RESPONSE DATA (JSON): {'count': 3, 'images': [{'description': '', 'features': {'author_photo': 'uraguss', 'classification_info': {'family': 'Сложноцветные', 'genus': 'Эдельвейс', 'species': 'Эдельвейс'}, 'cloudiness': 'Ясно', 'date': '02.08.2024 · 13:15', 'fauna_type': '', 'flora_type': 'Цветущее растение', 'flower_and_fruit_info': {'flowering': 'Да', 'fruits_present': 'Нет'}, 'habitat': 'Луг', 'image_caption': '', 'location': {'coordinates': {'latitude': 53.10843, 'longitude': 106.83964}, 'location': 'Ольхонский р-н, Иркутская обл., Россия'}, 'name_object': 'Эдельвейс', 'name_photo': 'large_(2).jpeg', 'parent': 'Edelweiss', 'season': 'Лето', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Edelweiss/large_(2).jpeg', 'species_name': 'эдельвейс', 'title': 'Эдельвейс'}, {'description': '', 'features': {'author_photo': 'fyodorp', 'classification_info': {'family': 'Сложноцветные', 'genus': 'Эдельвейс', 'species': 'Эдельвейс'}, 'cloudiness': 'Ясно', 'date': '06.08.2022 17:57', 'fauna_type': '', 'flora_type': 'Цветущее растение', 'flower_and_fruit_info': {'flowering': 'Да', 'fruits_present': 'Нет'}, 'habitat': 'Побережье', 'image_caption': '', 'location': {'coordinates': {'latitude': 53.07844, 'longitude': 106.80464}, 'location': 'Ольхонский р-н, Иркутская обл., Россия'}, 'name_object': 'Эдельвейс', 'name_photo': 'large.jpg', 'parent': 'Edelweiss', 'season': 'Осень', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Edelweiss/large.jpg', 'species_name': 'эдельвейс', 'title': 'Эдельвейс'}, {'description': '', 'features': {'author_photo': 'aleks_ermakov', 'classification_info': {'family': 'Сложноцветные', 'genus': 'Эдельвейс', 'species': 'Эдельвейс'}, 'cloudiness': 'Ясно', 'date': '02.10.2010 11:34', 'fauna_type': '', 'flora_type': 'Цветущее растение', 'flower_and_fruit_info': {'flowering': 'Да', 'fruits_present': 'Нет'}, 'habitat': 'Побережье', 'image_caption': '', 'location': {'coordinates': {'latitude': 53.05902, 'longitude': 106.95407}, 'location': 'Ольхонский р-н, Иркутская обл., Россия'}, 'name_object': 'Эдельвейс', 'name_photo': 'large.jpeg', 'parent': 'Edelweiss', 'season': 'Осень', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Edelweiss/large.jpeg', 'species_name': 'эдельвейс', 'title': 'Эдельвейс'}], 'requested_features': {'fruits_present': 'нет'}, 'species': 'эдельвейс', 'status': 'success', 'synonyms_used': {'эдельвейс': ['Leontopodium', 'эдельвейс', 'эдэльвейс', 'эдельвэйс']}}
2025-10-08 15:46:24,138 - logic.api_handlers - INFO - --- Завершение handle_get_picture. Отправляется 3 сообщений. ---
2025-10-08 15:46:24,544 - logic.query_analyze - INFO - Определение категории для объекта: 'эдельвейс'
2025-10-08 15:46:24,948 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:46:24,951 - logic.query_analyze - INFO - Категория для 'эдельвейс' определена как: 'Трава'
2025-10-08 15:46:24,953 - logic.dialogue_manager - INFO - История для user_id=684421969 обновлена: {'intent': 'get_picture', 'entities': {'object': 'эдельвейс', 'geo_place': None, 'features': {}, 'unsupported_features': [], 'can_fulfill': True, 'user_id': '684421969'}, 'object': 'эдельвейс', 'category': 'Трава'}
2025-10-08 15:46:30,483 - logic.query_analyze - INFO - Определение намерения для запроса: 'Покажи лиственницу сибирскую на болоте'
2025-10-08 15:46:30,651 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:46:30,653 - logic.query_analyze - INFO - Тип географического запроса: not_geo
2025-10-08 15:46:30,828 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:46:30,830 - logic.query_analyze - INFO - Стандартное намерение определено как: 'get_picture'
2025-10-08 15:46:30,830 - logic.query_analyze - INFO - Извлечение сущностей для намерения 'get_picture' из запроса: 'Покажи лиственницу сибирскую на болоте'
2025-10-08 15:46:32,735 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:46:32,736 - logic.query_analyze - INFO - Стандартные сущности извлечены успешно: {"object": "лиственница сибирская", "geo_place": null, "features": {"habitat": "Болото"}, "unsupported_features": [], "can_fulfill": true}
2025-10-08 15:46:32,737 - logic.api_handlers - INFO - --- Запуск handle_get_picture с result: {'object': 'лиственница сибирская', 'geo_place': None, 'features': {'habitat': 'Болото'}, 'unsupported_features': [], 'can_fulfill': True, 'user_id': '684421969'} ---
2025-10-08 15:46:32,737 - logic.api_handlers - INFO - API CALL: handle_get_picture. URL: https://testecobot.ru/search_images_by_features?debug_mode=false, Payload: {"species_name": "лиственница сибирская", "features": {"habitat": "Болото"}}
2025-10-08 15:46:32,772 - logic.api_handlers - INFO - API RESPONSE: handle_get_picture. Status: 200
2025-10-08 15:46:32,773 - logic.api_handlers - INFO - API RESPONSE DATA (JSON): {'count': 4, 'images': [{'description': 'the sky is blue and white', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Переменная облачность', 'date': '', 'fauna_type': '', 'flora_type': 'Дерево', 'flower_and_fruit_info': {'flowering': 'Да', 'fruits_present': 'Нет'}, 'habitat': 'Болото', 'image_caption': 'the sky is blue and white', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (10).jpg', 'parent': 'Сибирская листвинница', 'season': 'Весна', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(10).jpg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a small lake in the middle of a forest', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Пасмурно', 'date': '', 'fauna_type': 'Рыба', 'flora_type': '', 'flower_and_fruit_info': {}, 'habitat': 'Болото', 'image_caption': 'a small lake in the middle of a forest', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (6).jpg', 'parent': 'Сибирская листвинница', 'season': 'Весна', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(6).jpg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a small tree in the middle of a field', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Неопределено', 'date': '', 'fauna_type': '', 'flora_type': 'Кустарник', 'flower_and_fruit_info': {'flowering': 'Да', 'fruits_present': 'Нет'}, 'habitat': 'Болото', 'image_caption': 'a small tree in the middle of a field', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (25).jpeg', 'parent': 'Сибирская листвинница', 'season': 'Весна', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(25).jpeg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a bird perched on top of a pine tree', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Пасмурно', 'date': '', 'fauna_type': 'Птица', 'flora_type': '', 'flower_and_fruit_info': {}, 'habitat': 'Болото', 'image_caption': 'a bird perched on top of a pine tree', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (21).jpg', 'parent': 'Сибирская листвинница', 'season': 'Весна', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(21).jpg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}], 'requested_features': {'fruits_present': 'нет', 'habitat': 'Болото'}, 'species': 'лиственница сибирская', 'status': 'success', 'synonyms_used': {'лиственница сибирская': ['лиственница сибирская', 'сибирская лиственница', 'лиственницы сибирской']}}
2025-10-08 15:46:32,776 - logic.api_handlers - INFO - --- Завершение handle_get_picture. Отправляется 4 сообщений. ---
2025-10-08 15:46:33,346 - logic.query_analyze - INFO - Определение категории для объекта: 'лиственница сибирская'
2025-10-08 15:46:33,596 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:46:33,597 - logic.query_analyze - INFO - Категория для 'лиственница сибирская' определена как: 'Дерево'
2025-10-08 15:46:33,599 - logic.dialogue_manager - INFO - История для user_id=684421969 обновлена: {'intent': 'get_picture', 'entities': {'object': 'лиственница сибирская', 'geo_place': None, 'features': {'habitat': 'Болото'}, 'unsupported_features': [], 'can_fulfill': True, 'user_id': '684421969'}, 'object': 'лиственница сибирская', 'category': 'Дерево'}
2025-10-08 15:46:39,595 - logic.query_analyze - INFO - Определение намерения для запроса: 'расскажи про иву'
2025-10-08 15:46:39,732 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:46:39,733 - logic.query_analyze - INFO - Тип географического запроса: not_geo
2025-10-08 15:46:39,846 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:46:39,848 - logic.query_analyze - INFO - Стандартное намерение определено как: 'get_text'
2025-10-08 15:46:39,848 - logic.query_analyze - INFO - Извлечение сущностей для намерения 'get_text' из запроса: 'расскажи про иву'
2025-10-08 15:46:40,783 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:46:40,785 - logic.query_analyze - INFO - Стандартные сущности извлечены успешно: {"object": "ива", "geo_place": null, "features": {}, "unsupported_features": [], "can_fulfill": true}
2025-10-08 15:46:42,963 - handlers.gigachat_handler - INFO - Пользователь уточнил объект: 'Ива Бэбба'
2025-10-08 15:46:43,188 - logic.api_handlers - INFO - Найдено точное совпадение: 'Ива Бэбба'. Запрашиваю описание...
2025-10-08 15:46:43,484 - logic.query_analyze - INFO - Определение категории для объекта: 'Ива Бэбба'
2025-10-08 15:46:43,661 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:46:43,664 - logic.query_analyze - INFO - Категория для 'Ива Бэбба' определена как: 'Кустарник'
2025-10-08 15:46:43,667 - logic.dialogue_manager - INFO - История для user_id=684421969 обновлена: {'intent': 'get_text', 'entities': {'object': 'Ива Бэбба'}, 'object': 'Ива Бэбба', 'category': 'Кустарник'}
2025-10-08 15:46:49,200 - logic.query_analyze - INFO - Определение намерения для запроса: 'информация о байкальской нерпе'
2025-10-08 15:46:49,364 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:46:49,366 - logic.query_analyze - INFO - Тип географического запроса: geo_info
2025-10-08 15:46:49,366 - logic.query_analyze - INFO - Запрос 'информация о байкальской нерпе' -> географическое намерение: get_geo_info
2025-10-08 15:46:49,366 - logic.query_analyze - INFO - Извлечение сущностей для намерения 'get_geo_info' из запроса: 'информация о байкальской нерпе'
2025-10-08 15:46:49,366 - logic.query_analyze - INFO - Извлечение ГЕОГРАФИЧЕСКИХ сущностей из запроса: 'информация о байкальской нерпе'
2025-10-08 15:46:51,184 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:46:51,187 - logic.query_analyze - INFO - Географические сущности извлечены: {"location_info": {"exact_location": "Байкал", "region": "Иркутская область, Бурятия", "nearby_places": []}, "geo_type": {"primary_type": ["Природный объект"], "specific_types": ["Животные", "Редкие виды"]}}
2025-10-08 15:46:51,187 - logic.api_handlers - WARNING - Неизвестный intent: get_geo_info
2025-10-08 15:47:30,391 - logic.query_analyze - INFO - Определение намерения для запроса: 'Расскажи про байкальской нерпе'
2025-10-08 15:47:30,785 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:47:30,786 - logic.query_analyze - INFO - Тип географического запроса: geo_info
2025-10-08 15:47:30,787 - logic.query_analyze - INFO - Запрос 'Расскажи про байкальской нерпе' -> географическое намерение: get_geo_info
2025-10-08 15:47:30,787 - logic.query_analyze - INFO - Извлечение сущностей для намерения 'get_geo_info' из запроса: 'Расскажи про байкальской нерпе'
2025-10-08 15:47:30,787 - logic.query_analyze - INFO - Извлечение ГЕОГРАФИЧЕСКИХ сущностей из запроса: 'Расскажи про байкальской нерпе'
2025-10-08 15:47:32,522 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:47:32,524 - logic.query_analyze - INFO - Географические сущности извлечены: {"location_info": {"exact_location": null, "region": "Байкал", "nearby_places": []}, "geo_type": {"primary_type": ["Природный объект"], "specific_types": ["Животные"]}}
2025-10-08 15:47:32,524 - logic.api_handlers - WARNING - Неизвестный intent: get_geo_info
2025-10-08 15:49:21,669 - root - INFO - Логирование настроено для вывода в консоль и в файл.
2025-10-08 15:49:21,827 - aiogram - INFO - Bot: RasaTgBot [@RasaNewDBBot]
2025-10-08 15:49:21,929 - aiogram - WARNING - Updates were skipped successfully.
2025-10-08 15:49:21,930 - __main__ - INFO - Бот запускается...
2025-10-08 15:49:22,028 - logic.query_analyze - INFO - GigaChat успешно инициализирован.
2025-10-08 15:49:22,029 - utils.context_manager - INFO - Асинхронный клиент Redis инициализирован для localhost:6379
2025-10-08 15:49:22,032 - utils.context_manager - INFO - Подключение к Redis успешно.
2025-10-08 15:49:22,036 - __main__ - INFO - Все обработчики успешно зарегистрированы.
2025-10-08 15:49:22,037 - aiogram.dispatcher.dispatcher - INFO - Start polling.
2025-10-08 15:49:25,403 - logic.query_analyze - INFO - Определение намерения для запроса: 'Расскажи про байкальской нерпе'
2025-10-08 15:49:25,577 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-10-08 15:49:25,893 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:49:25,895 - logic.query_analyze - INFO - Тип географического запроса: not_geo
2025-10-08 15:49:26,064 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:49:26,066 - logic.query_analyze - INFO - Стандартное намерение определено как: 'get_text'
2025-10-08 15:49:26,067 - logic.query_analyze - INFO - Извлечение сущностей для намерения 'get_text' из запроса: 'Расскажи про байкальской нерпе'
2025-10-08 15:49:27,766 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:49:27,768 - logic.query_analyze - INFO - Стандартные сущности извлечены успешно: {"object": "байкальская нерпа", "geo_place": null, "features": {}, "unsupported_features": [], "can_fulfill": true}
2025-10-08 15:49:27,823 - logic.api_handlers - WARNING - Описание для 'байкальская нерпа' не найдено ни на одном из этапов.
2025-10-08 15:49:28,040 - logic.query_analyze - INFO - Определение категории для объекта: 'байкальская нерпа'
2025-10-08 15:49:28,256 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:49:28,259 - logic.query_analyze - INFO - Категория для 'байкальская нерпа' определена как: 'Млекопитающее'
2025-10-08 15:49:28,260 - logic.dialogue_manager - INFO - История для user_id=684421969 обновлена: {'intent': 'get_text', 'entities': {'object': 'байкальская нерпа', 'geo_place': None, 'features': {}, 'unsupported_features': [], 'can_fulfill': True, 'user_id': '684421969'}, 'object': 'байкальская нерпа', 'category': 'Млекопитающее'}
2025-10-08 15:50:27,451 - logic.query_analyze - INFO - Определение намерения для запроса: 'Покажи лиственницу сибирскую'
2025-10-08 15:50:27,647 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:50:27,648 - logic.query_analyze - INFO - Тип географического запроса: not_geo
2025-10-08 15:50:27,812 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:50:27,813 - logic.query_analyze - INFO - Стандартное намерение определено как: 'get_picture'
2025-10-08 15:50:27,814 - logic.query_analyze - INFO - Извлечение сущностей для намерения 'get_picture' из запроса: 'Покажи лиственницу сибирскую'
2025-10-08 15:50:28,930 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:50:28,932 - logic.query_analyze - INFO - Стандартные сущности извлечены успешно: {"object": "лиственница сибирская", "geo_place": null, "features": {}, "unsupported_features": [], "can_fulfill": true}
2025-10-08 15:50:28,932 - logic.api_handlers - INFO - --- Запуск handle_get_picture с result: {'object': 'лиственница сибирская', 'geo_place': None, 'features': {}, 'unsupported_features': [], 'can_fulfill': True, 'user_id': '684421969'} ---
2025-10-08 15:50:28,932 - logic.api_handlers - INFO - API CALL: handle_get_picture. URL: https://testecobot.ru/search_images_by_features?debug_mode=false, Payload: {"species_name": "лиственница сибирская", "features": {}}
2025-10-08 15:50:28,993 - logic.api_handlers - INFO - API RESPONSE: handle_get_picture. Status: 200
2025-10-08 15:50:28,996 - logic.api_handlers - INFO - API RESPONSE DATA (JSON): {'count': 46, 'images': [{'description': 'the sky is blue and white', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Переменная облачность', 'date': '', 'fauna_type': '', 'flora_type': 'Дерево', 'flower_and_fruit_info': {'flowering': 'Да', 'fruits_present': 'Нет'}, 'habitat': 'Болото', 'image_caption': 'the sky is blue and white', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (10).jpg', 'parent': 'Сибирская листвинница', 'season': 'Весна', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(10).jpg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'the view of the mountains from the trail to the top of the mountain', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Переменная облачность', 'date': '', 'fauna_type': 'Неопределено', 'flora_type': '', 'flower_and_fruit_info': {}, 'habitat': 'Луг', 'image_caption': 'the view of the mountains from the trail to the top of the mountain', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (7).jpg', 'parent': 'Сибирская листвинница', 'season': 'Лето', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(7).jpg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a tree with yellow leaves in the fall', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Ясно', 'date': '', 'fauna_type': 'Неопределено', 'flora_type': '', 'flower_and_fruit_info': {}, 'habitat': 'Лес', 'image_caption': 'a tree with yellow leaves in the fall', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (12).jpg', 'parent': 'Сибирская листвинница', 'season': 'Осень', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(12).jpg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a large tree in the middle of a forest', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Ясно', 'date': '', 'fauna_type': '', 'flora_type': 'Дерево', 'flower_and_fruit_info': {'flowering': 'Да', 'fruits_present': 'Нет'}, 'habitat': 'Лес', 'image_caption': 'a large tree in the middle of a forest', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (23).jpg', 'parent': 'Сибирская листвинница', 'season': 'Весна', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(23).jpg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a dead tree in the middle of a field', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Переменная облачность', 'date': '', 'fauna_type': 'Паукообразное', 'flora_type': '', 'flower_and_fruit_info': {}, 'habitat': 'Луг', 'image_caption': 'a dead tree in the middle of a field', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (2).jpg', 'parent': 'Сибирская листвинница', 'season': 'Лето', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(2).jpg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a group of tall trees in a forest', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Пасмурно', 'date': '', 'fauna_type': 'Неопределено', 'flora_type': '', 'flower_and_fruit_info': {}, 'habitat': 'Лес', 'image_caption': 'a group of tall trees in a forest', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (20).jpeg', 'parent': 'Сибирская листвинница', 'season': 'Лето', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(20).jpeg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a large tree in the middle of a forest', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Ясно', 'date': '', 'fauna_type': '', 'flora_type': 'Дерево', 'flower_and_fruit_info': {'flowering': 'Да', 'fruits_present': 'Нет'}, 'habitat': 'Лес', 'image_caption': 'a large tree in the middle of a forest', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (17).jpg', 'parent': 'Сибирская листвинница', 'season': 'Весна', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(17).jpg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a bird perched on a branch of a tree', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Ясно', 'date': '', 'fauna_type': '', 'flora_type': 'Кустарник', 'flower_and_fruit_info': {'flowering': 'Да', 'fruits_present': 'Нет'}, 'habitat': 'Лес', 'image_caption': 'a bird perched on a branch of a tree', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (19).jpeg', 'parent': 'Сибирская листвинница', 'season': 'Весна', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(19).jpeg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a forest with tall trees and a blue sky', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Ясно', 'date': '', 'fauna_type': 'Птица', 'flora_type': '', 'flower_and_fruit_info': {}, 'habitat': 'Лес', 'image_caption': 'a forest with tall trees and a blue sky', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (9).jpeg', 'parent': 'Сибирская листвинница', 'season': 'Осень', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(9).jpeg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a large tree in the middle of a field', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Переменная облачность', 'date': '', 'fauna_type': 'Птица', 'flora_type': '', 'flower_and_fruit_info': {}, 'habitat': 'Лес', 'image_caption': 'a large tree in the middle of a field', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (11).jpeg', 'parent': 'Сибирская листвинница', 'season': 'Осень', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(11).jpeg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a tree that is standing in the snow', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Ясно', 'date': '', 'fauna_type': 'Птица', 'flora_type': '', 'flower_and_fruit_info': {}, 'habitat': 'Неопределено', 'image_caption': 'a tree that is standing in the snow', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (8).jpeg', 'parent': 'Сибирская листвинница', 'season': 'Зима', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(8).jpeg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a man sitting under a tree in a field', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Ясно', 'date': '', 'fauna_type': 'Птица', 'flora_type': '', 'flower_and_fruit_info': {}, 'habitat': 'Лес', 'image_caption': 'a man sitting under a tree in a field', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (13).jpeg', 'parent': 'Сибирская листвинница', 'season': 'Весна', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(13).jpeg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a body of water', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Ясно', 'date': '', 'fauna_type': 'Земноводное', 'flora_type': '', 'flower_and_fruit_info': {}, 'habitat': 'Озеро', 'image_caption': 'a body of water', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large.jpeg', 'parent': 'Сибирская листвинница', 'season': 'Лето', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large.jpeg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'trees in the woods with yellow leaves on them', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Ясно', 'date': '', 'fauna_type': 'Птица', 'flora_type': '', 'flower_and_fruit_info': {}, 'habitat': 'Лес', 'image_caption': 'trees in the woods with yellow leaves on them', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (18).jpg', 'parent': 'Сибирская листвинница', 'season': 'Осень', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(18).jpg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a yellow tree in the middle of a forest', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Ясно', 'date': '', 'fauna_type': 'Птица', 'flora_type': '', 'flower_and_fruit_info': {}, 'habitat': 'Лес', 'image_caption': 'a yellow tree in the middle of a forest', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (28).jpeg', 'parent': 'Сибирская листвинница', 'season': 'Осень', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(28).jpeg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a large tree in a field', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Ясно', 'date': '', 'fauna_type': 'Птица', 'flora_type': '', 'flower_and_fruit_info': {}, 'habitat': 'Луг', 'image_caption': 'a large tree in a field', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (5).jpg', 'parent': 'Сибирская листвинница', 'season': 'Лето', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(5).jpg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a small lake in the middle of a forest', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Пасмурно', 'date': '', 'fauna_type': 'Рыба', 'flora_type': '', 'flower_and_fruit_info': {}, 'habitat': 'Болото', 'image_caption': 'a small lake in the middle of a forest', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (6).jpg', 'parent': 'Сибирская листвинница', 'season': 'Весна', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(6).jpg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a field of trees with a train in the background', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Ясно', 'date': '', 'fauna_type': 'Неопределено', 'flora_type': '', 'flower_and_fruit_info': {}, 'habitat': 'Лес', 'image_caption': 'a field of trees with a train in the background', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (17).jpeg', 'parent': 'Сибирская листвинница', 'season': 'Лето', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(17).jpeg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a lone tree in the middle of a snowy landscape', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Пасмурно', 'date': '', 'fauna_type': 'Неопределено', 'flora_type': '', 'flower_and_fruit_info': {}, 'habitat': 'Луг', 'image_caption': 'a lone tree in the middle of a snowy landscape', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (3).jpg', 'parent': 'Сибирская листвинница', 'season': 'Зима', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(3).jpg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a small green tree in a rocky area', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Пасмурно', 'date': '', 'fauna_type': '', 'flora_type': 'Кустарник', 'flower_and_fruit_info': {'flowering': 'Да', 'fruits_present': 'Нет'}, 'habitat': 'Горы', 'image_caption': 'a small green tree in a rocky area', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (3).jpeg', 'parent': 'Сибирская листвинница', 'season': 'Весна', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(3).jpeg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a lone tree in a field with mountains in the background', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Ясно', 'date': '', 'fauna_type': '', 'flora_type': 'Дерево', 'flower_and_fruit_info': {'flowering': 'Да', 'fruits_present': 'Нет'}, 'habitat': 'Лес', 'image_caption': 'a lone tree in a field with mountains in the background', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (30).jpg', 'parent': 'Сибирская листвинница', 'season': 'Весна', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(30).jpg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a lone tree in the middle of a field', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Переменная облачность', 'date': '', 'fauna_type': 'Птица', 'flora_type': '', 'flower_and_fruit_info': {}, 'habitat': 'Лес', 'image_caption': 'a lone tree in the middle of a field', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (10).jpeg', 'parent': 'Сибирская листвинница', 'season': 'Лето', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(10).jpeg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a forest with tall trees and a blue sky', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Ясно', 'date': '', 'fauna_type': 'Птица', 'flora_type': '', 'flower_and_fruit_info': {}, 'habitat': 'Лес', 'image_caption': 'a forest with tall trees and a blue sky', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (12).jpeg', 'parent': 'Сибирская листвинница', 'season': 'Осень', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(12).jpeg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a view of a forest from a moving train', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Ясно', 'date': '', 'fauna_type': 'Паукообразное', 'flora_type': '', 'flower_and_fruit_info': {}, 'habitat': 'Лес', 'image_caption': 'a view of a forest from a moving train', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (23).jpeg', 'parent': 'Сибирская листвинница', 'season': 'Осень', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(23).jpeg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a group of trees with yellow leaves', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Ясно', 'date': '', 'fauna_type': 'Неопределено', 'flora_type': '', 'flower_and_fruit_info': {}, 'habitat': 'Лес', 'image_caption': 'a group of trees with yellow leaves', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (24).jpeg', 'parent': 'Сибирская листвинница', 'season': 'Осень', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(24).jpeg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a forest filled with lots of tall trees', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Ясно', 'date': '', 'fauna_type': 'Птица', 'flora_type': '', 'flower_and_fruit_info': {}, 'habitat': 'Лес', 'image_caption': 'a forest filled with lots of tall trees', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (18).jpeg', 'parent': 'Сибирская листвинница', 'season': 'Весна', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(18).jpeg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a close up of a tree with green leaves', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Ясно', 'date': '', 'fauna_type': '', 'flora_type': 'Мох', 'flower_and_fruit_info': {'flowering': 'Да', 'fruits_present': 'Нет'}, 'habitat': 'Лес', 'image_caption': 'a close up of a tree with green leaves', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (14).jpg', 'parent': 'Сибирская листвинница', 'season': 'Весна', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(14).jpg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a small tree in the middle of a forest', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Ясно', 'date': '', 'fauna_type': '', 'flora_type': 'Кустарник', 'flower_and_fruit_info': {'flowering': 'Да', 'fruits_present': 'Нет'}, 'habitat': 'Лес', 'image_caption': 'a small tree in the middle of a forest', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (20).jpg', 'parent': 'Сибирская листвинница', 'season': 'Весна', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(20).jpg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a small tree in the middle of a field', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Неопределено', 'date': '', 'fauna_type': '', 'flora_type': 'Кустарник', 'flower_and_fruit_info': {'flowering': 'Да', 'fruits_present': 'Нет'}, 'habitat': 'Болото', 'image_caption': 'a small tree in the middle of a field', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (25).jpeg', 'parent': 'Сибирская листвинница', 'season': 'Весна', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(25).jpeg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a pine tree in the middle of a forest', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Ясно', 'date': '', 'fauna_type': 'Птица', 'flora_type': '', 'flower_and_fruit_info': {}, 'habitat': 'Лес', 'image_caption': 'a pine tree in the middle of a forest', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (16).jpeg', 'parent': 'Сибирская листвинница', 'season': 'Лето', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(16).jpeg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a tree in a field with a rainbow in the sky', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Переменная облачность', 'date': '', 'fauna_type': 'Птица', 'flora_type': '', 'flower_and_fruit_info': {}, 'habitat': 'Луг', 'image_caption': 'a tree in a field with a rainbow in the sky', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large.jpg', 'parent': 'Сибирская листвинница', 'season': 'Лето', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large.jpg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'the view from the top of a hill with trees in the background', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Переменная облачность', 'date': '', 'fauna_type': 'Птица', 'flora_type': '', 'flower_and_fruit_info': {}, 'habitat': 'Лес', 'image_caption': 'the view from the top of a hill with trees in the background', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (19).jpg', 'parent': 'Сибирская листвинница', 'season': 'Весна', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(19).jpg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a tall tree stands in the middle of a forest', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Ясно', 'date': '', 'fauna_type': '', 'flora_type': 'Дерево', 'flower_and_fruit_info': {'flowering': 'Да', 'fruits_present': 'Нет'}, 'habitat': 'Лес', 'image_caption': 'a tall tree stands in the middle of a forest', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (14).jpeg', 'parent': 'Сибирская листвинница', 'season': 'Осень', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(14).jpeg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a bird perched on top of a pine tree', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Пасмурно', 'date': '', 'fauna_type': 'Птица', 'flora_type': '', 'flower_and_fruit_info': {}, 'habitat': 'Болото', 'image_caption': 'a bird perched on top of a pine tree', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (21).jpg', 'parent': 'Сибирская листвинница', 'season': 'Весна', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(21).jpg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a forest with lots of trees and bushes', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Пасмурно', 'date': '', 'fauna_type': 'Птица', 'flora_type': '', 'flower_and_fruit_info': {}, 'habitat': 'Лес', 'image_caption': 'a forest with lots of trees and bushes', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (9).jpg', 'parent': 'Сибирская листвинница', 'season': 'Лето', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(9).jpg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a dead tree in the middle of a field', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Переменная облачность', 'date': '', 'fauna_type': 'Паукообразное', 'flora_type': '', 'flower_and_fruit_info': {}, 'habitat': 'Луг', 'image_caption': 'a dead tree in the middle of a field', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (1).jpg', 'parent': 'Сибирская листвинница', 'season': 'Лето', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(1).jpg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a tree with no leaves', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Ясно', 'date': '', 'fauna_type': 'Птица', 'flora_type': '', 'flower_and_fruit_info': {}, 'habitat': 'Неопределено', 'image_caption': 'a tree with no leaves', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (6).jpeg', 'parent': 'Сибирская листвинница', 'season': 'Зима', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(6).jpeg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a clear blue sky', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Переменная облачность', 'date': '', 'fauna_type': 'Птица', 'flora_type': '', 'flower_and_fruit_info': {}, 'habitat': 'Лес', 'image_caption': 'a clear blue sky', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (34).jpeg', 'parent': 'Сибирская листвинница', 'season': 'Зима', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(34).jpeg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a small pine tree in the middle of a field', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Пасмурно', 'date': '', 'fauna_type': '', 'flora_type': 'Кустарник', 'flower_and_fruit_info': {'flowering': 'Да', 'fruits_present': 'Нет'}, 'habitat': 'Лес', 'image_caption': 'a small pine tree in the middle of a field', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (22).jpg', 'parent': 'Сибирская листвинница', 'season': 'Весна', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(22).jpg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a small plant in the middle of a forest', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Пасмурно', 'date': '', 'fauna_type': '', 'flora_type': 'Мох', 'flower_and_fruit_info': {'flowering': 'Да', 'fruits_present': 'Нет'}, 'habitat': 'Лес', 'image_caption': 'a small plant in the middle of a forest', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (11).jpg', 'parent': 'Сибирская листвинница', 'season': 'Весна', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(11).jpg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'the view from the top of a hill in colorado', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Пасмурно', 'date': '', 'fauna_type': 'Неопределено', 'flora_type': '', 'flower_and_fruit_info': {}, 'habitat': 'Луг', 'image_caption': 'the view from the top of a hill in colorado', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (25).jpg', 'parent': 'Сибирская листвинница', 'season': 'Лето', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(25).jpg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a field with trees and mountains in the background', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Пасмурно', 'date': '', 'fauna_type': 'Неопределено', 'flora_type': '', 'flower_and_fruit_info': {}, 'habitat': 'Луг', 'image_caption': 'a field with trees and mountains in the background', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (22).jpeg', 'parent': 'Сибирская листвинница', 'season': 'Лето', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(22).jpeg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a large tree in the middle of a field', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Переменная облачность', 'date': '', 'fauna_type': '', 'flora_type': 'Дерево', 'flower_and_fruit_info': {'flowering': 'Да', 'fruits_present': 'Нет'}, 'habitat': 'Лес', 'image_caption': 'a large tree in the middle of a field', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (29).jpeg', 'parent': 'Сибирская листвинница', 'season': 'Весна', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(29).jpeg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a view from the top of a mountain', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Переменная облачность', 'date': '', 'fauna_type': 'Земноводное', 'flora_type': '', 'flower_and_fruit_info': {}, 'habitat': 'Лес', 'image_caption': 'a view from the top of a mountain', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (13).jpg', 'parent': 'Сибирская листвинница', 'season': 'Лето', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(13).jpg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a large tree in front of a building', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Пасмурно', 'date': '', 'fauna_type': '', 'flora_type': 'Дерево', 'flower_and_fruit_info': {'flowering': 'Да', 'fruits_present': 'Нет'}, 'habitat': 'Неопределено', 'image_caption': 'a large tree in front of a building', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (8).jpg', 'parent': 'Сибирская листвинница', 'season': 'Весна', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(8).jpg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a bird perched on a tree in the woods', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Пасмурно', 'date': '', 'fauna_type': '', 'flora_type': 'Дерево', 'flower_and_fruit_info': {'flowering': 'Нет', 'fruits_present': 'Нет'}, 'habitat': 'Лес', 'image_caption': 'a bird perched on a tree in the woods', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (27).jpg', 'parent': 'Сибирская листвинница', 'season': 'Весна', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(27).jpg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}], 'requested_features': {'fruits_present': 'нет'}, 'species': 'лиственница сибирская', 'status': 'success', 'synonyms_used': {'лиственница сибирская': ['лиственница сибирская', 'сибирская лиственница', 'лиственницы сибирской']}}
2025-10-08 15:50:29,000 - logic.api_handlers - INFO - --- Завершение handle_get_picture. Отправляется 5 сообщений. ---
2025-10-08 15:50:29,545 - logic.query_analyze - INFO - Определение категории для объекта: 'лиственница сибирская'
2025-10-08 15:50:29,696 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:50:29,697 - logic.query_analyze - INFO - Категория для 'лиственница сибирская' определена как: 'Дерево'
2025-10-08 15:50:29,699 - logic.dialogue_manager - INFO - История для user_id=684421969 обновлена: {'intent': 'get_picture', 'entities': {'object': 'лиственница сибирская', 'geo_place': None, 'features': {}, 'unsupported_features': [], 'can_fulfill': True, 'user_id': '684421969'}, 'object': 'лиственница сибирская', 'category': 'Дерево'}
2025-10-08 15:50:33,242 - logic.query_analyze - INFO - Определение намерения для запроса: 'А осенью?'
2025-10-08 15:50:33,486 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:50:33,489 - logic.query_analyze - INFO - Тип географического запроса: not_geo
2025-10-08 15:50:33,718 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:50:33,720 - logic.query_analyze - INFO - Стандартное намерение определено как: 'unknown'
2025-10-08 15:50:33,721 - logic.query_analyze - INFO - Извлечение сущностей для намерения 'unknown' из запроса: 'А осенью?'
2025-10-08 15:50:36,067 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:50:36,068 - logic.query_analyze - INFO - Стандартные сущности извлечены успешно: {"object": null, "geo_place": null, "features": {"season": "Осень"}, "unsupported_features": [], "can_fulfill": true}
2025-10-08 15:50:36,070 - logic.dialogue_manager - INFO - Неявный запрос. Заменяем интент 'unknown' на интент из истории: 'get_picture'
2025-10-08 15:50:36,070 - logic.api_handlers - INFO - --- Запуск handle_get_picture с result: {'object': 'лиственница сибирская', 'geo_place': None, 'features': {'season': 'Осень'}, 'unsupported_features': [], 'can_fulfill': True, 'user_id': '684421969'} ---
2025-10-08 15:50:36,071 - logic.api_handlers - INFO - API CALL: handle_get_picture. URL: https://testecobot.ru/search_images_by_features?debug_mode=false, Payload: {"species_name": "лиственница сибирская", "features": {"season": "Осень"}}
2025-10-08 15:50:36,113 - logic.api_handlers - INFO - API RESPONSE: handle_get_picture. Status: 200
2025-10-08 15:50:36,114 - logic.api_handlers - INFO - API RESPONSE DATA (JSON): {'count': 9, 'images': [{'description': 'a tree with yellow leaves in the fall', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Ясно', 'date': '', 'fauna_type': 'Неопределено', 'flora_type': '', 'flower_and_fruit_info': {}, 'habitat': 'Лес', 'image_caption': 'a tree with yellow leaves in the fall', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (12).jpg', 'parent': 'Сибирская листвинница', 'season': 'Осень', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(12).jpg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a forest with tall trees and a blue sky', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Ясно', 'date': '', 'fauna_type': 'Птица', 'flora_type': '', 'flower_and_fruit_info': {}, 'habitat': 'Лес', 'image_caption': 'a forest with tall trees and a blue sky', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (9).jpeg', 'parent': 'Сибирская листвинница', 'season': 'Осень', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(9).jpeg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a large tree in the middle of a field', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Переменная облачность', 'date': '', 'fauna_type': 'Птица', 'flora_type': '', 'flower_and_fruit_info': {}, 'habitat': 'Лес', 'image_caption': 'a large tree in the middle of a field', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (11).jpeg', 'parent': 'Сибирская листвинница', 'season': 'Осень', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(11).jpeg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'trees in the woods with yellow leaves on them', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Ясно', 'date': '', 'fauna_type': 'Птица', 'flora_type': '', 'flower_and_fruit_info': {}, 'habitat': 'Лес', 'image_caption': 'trees in the woods with yellow leaves on them', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (18).jpg', 'parent': 'Сибирская листвинница', 'season': 'Осень', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(18).jpg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a yellow tree in the middle of a forest', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Ясно', 'date': '', 'fauna_type': 'Птица', 'flora_type': '', 'flower_and_fruit_info': {}, 'habitat': 'Лес', 'image_caption': 'a yellow tree in the middle of a forest', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (28).jpeg', 'parent': 'Сибирская листвинница', 'season': 'Осень', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(28).jpeg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a forest with tall trees and a blue sky', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Ясно', 'date': '', 'fauna_type': 'Птица', 'flora_type': '', 'flower_and_fruit_info': {}, 'habitat': 'Лес', 'image_caption': 'a forest with tall trees and a blue sky', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (12).jpeg', 'parent': 'Сибирская листвинница', 'season': 'Осень', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(12).jpeg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a view of a forest from a moving train', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Ясно', 'date': '', 'fauna_type': 'Паукообразное', 'flora_type': '', 'flower_and_fruit_info': {}, 'habitat': 'Лес', 'image_caption': 'a view of a forest from a moving train', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (23).jpeg', 'parent': 'Сибирская листвинница', 'season': 'Осень', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(23).jpeg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a group of trees with yellow leaves', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Ясно', 'date': '', 'fauna_type': 'Неопределено', 'flora_type': '', 'flower_and_fruit_info': {}, 'habitat': 'Лес', 'image_caption': 'a group of trees with yellow leaves', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (24).jpeg', 'parent': 'Сибирская листвинница', 'season': 'Осень', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(24).jpeg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}, {'description': 'a tall tree stands in the middle of a forest', 'features': {'author_photo': '', 'classification_info': {'family': 'Сосновые', 'genus': 'Лиственница', 'species': 'Лиственница Сибирская'}, 'cloudiness': 'Ясно', 'date': '', 'fauna_type': '', 'flora_type': 'Дерево', 'flower_and_fruit_info': {'flowering': 'Да', 'fruits_present': 'Нет'}, 'habitat': 'Лес', 'image_caption': 'a tall tree stands in the middle of a forest', 'location': {'coordinates': {'latitude': None, 'longitude': None}, 'country': '', 'region': ''}, 'name_object': 'Лиственница Сибирская', 'name_photo': 'large (14).jpeg', 'parent': 'Сибирская листвинница', 'season': 'Осень', 'yolo_detected_objects': []}, 'image_path': 'https://testecobot.ru/images/Сибирская_лиственница/large_(14).jpeg', 'species_name': 'лиственница сибирская', 'title': 'Лиственница Сибирская'}], 'requested_features': {'fruits_present': 'нет', 'season': 'Осень'}, 'species': 'лиственница сибирская', 'status': 'success', 'synonyms_used': {'лиственница сибирская': ['лиственница сибирская', 'сибирская лиственница', 'лиственницы сибирской']}}
2025-10-08 15:50:36,119 - logic.api_handlers - INFO - --- Завершение handle_get_picture. Отправляется 5 сообщений. ---
2025-10-08 15:50:36,626 - logic.query_analyze - INFO - Определение категории для объекта: 'лиственница сибирская'
2025-10-08 15:50:36,966 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:50:36,968 - logic.query_analyze - INFO - Категория для 'лиственница сибирская' определена как: 'Дерево'
2025-10-08 15:50:36,969 - logic.dialogue_manager - INFO - История для user_id=684421969 обновлена: {'intent': 'get_picture', 'entities': {'object': 'лиственница сибирская', 'geo_place': None, 'features': {'season': 'Осень'}, 'unsupported_features': [], 'can_fulfill': True, 'user_id': '684421969'}, 'object': 'лиственница сибирская', 'category': 'Дерево'}
2025-10-08 15:50:38,077 - logic.query_analyze - INFO - Определение намерения для запроса: 'А где она растет?'
2025-10-08 15:50:38,543 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:50:38,545 - logic.query_analyze - INFO - Тип географического запроса: not_geo
2025-10-08 15:50:38,828 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:50:38,830 - logic.query_analyze - INFO - Стандартное намерение определено как: 'get_location'
2025-10-08 15:50:38,831 - logic.query_analyze - INFO - Извлечение сущностей для намерения 'get_location' из запроса: 'А где она растет?'
2025-10-08 15:50:39,779 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:50:39,781 - logic.query_analyze - INFO - Стандартные сущности извлечены успешно: {"object": null, "geo_place": null, "features": {}, "unsupported_features": [], "can_fulfill": true}
2025-10-08 15:50:41,987 - logic.query_analyze - INFO - Определение категории для объекта: 'лиственница сибирская'
2025-10-08 15:50:42,132 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:50:42,134 - logic.query_analyze - INFO - Категория для 'лиственница сибирская' определена как: 'Дерево'
2025-10-08 15:50:42,136 - logic.dialogue_manager - INFO - История для user_id=684421969 обновлена: {'intent': 'get_location', 'entities': {'object': 'лиственница сибирская', 'geo_place': None, 'features': {'season': 'Осень'}, 'unsupported_features': [], 'can_fulfill': True, 'user_id': '684421969'}, 'object': 'лиственница сибирская', 'category': 'Дерево'}
2025-10-08 15:50:46,555 - logic.query_analyze - INFO - Определение намерения для запроса: 'А эдельвейс?'
2025-10-08 15:50:46,943 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:50:46,945 - logic.query_analyze - INFO - Тип географического запроса: not_geo
2025-10-08 15:50:47,113 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:50:47,114 - logic.query_analyze - INFO - Стандартное намерение определено как: 'unknown'
2025-10-08 15:50:47,115 - logic.query_analyze - INFO - Извлечение сущностей для намерения 'unknown' из запроса: 'А эдельвейс?'
2025-10-08 15:50:50,299 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:50:50,301 - logic.query_analyze - INFO - Стандартные сущности извлечены успешно: {"object": "эдельвейс", "geo_place": null, "features": {}, "unsupported_features": [], "can_fulfill": true}
2025-10-08 15:50:50,302 - logic.dialogue_manager - INFO - Неявный запрос. Заменяем интент 'unknown' на интент из истории: 'get_location'
2025-10-08 15:50:52,079 - logic.query_analyze - INFO - Определение категории для объекта: 'эдельвейс'
2025-10-08 15:50:52,425 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:50:52,428 - logic.query_analyze - INFO - Категория для 'эдельвейс' определена как: 'Трава'
2025-10-08 15:50:52,431 - logic.dialogue_manager - INFO - История для user_id=684421969 обновлена: {'intent': 'get_location', 'entities': {'object': 'эдельвейс', 'geo_place': None, 'features': {}, 'unsupported_features': [], 'can_fulfill': True, 'user_id': '684421969'}, 'object': 'эдельвейс', 'category': 'Трава'}
2025-10-08 15:51:05,481 - logic.query_analyze - INFO - Определение намерения для запроса: 'Какая флора растет на Малом море'
2025-10-08 15:51:05,648 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:51:05,651 - logic.query_analyze - INFO - Тип географического запроса: not_geo
2025-10-08 15:51:05,864 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:51:05,866 - logic.query_analyze - INFO - Стандартное намерение определено как: 'get_objects_in_polygon'
2025-10-08 15:51:05,866 - logic.query_analyze - INFO - Извлечение сущностей для намерения 'get_objects_in_polygon' из запроса: 'Какая флора растет на Малом море'
2025-10-08 15:51:07,752 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 15:51:07,754 - logic.query_analyze - INFO - Стандартные сущности извлечены успешно: {"object": null, "geo_place": "Малое море", "features": {}, "unsupported_features": [], "can_fulfill": true}
